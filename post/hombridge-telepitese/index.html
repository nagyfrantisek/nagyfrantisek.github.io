<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Homebridge telepítése | Nagy</title><meta name="title" content="Homebridge telepítése | Nagy"><meta name="description" content="Frantisek Nagy&#39;s personal website"><meta name="keywords" content="selfhosted,linux,homebridge,nagy,frantisek,mechanical,drawings"><meta name="author" content="Frantisek Nagy"><meta name="robots" content="index, follow"><link rel="canonical" href="https://nagy.sh/post/hombridge-telepitese/"><link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png"><link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/css/main.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-14L9NDPXSW"></script><script>window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-14L9NDPXSW');</script></head><body class="flex flex-col h-screen bg-white text-slate-800 break-words"><header id="header" class="bg-white shadow-none w-full px-6 py-5 z-50 fixed top-0 transition-all transform ease-in-out duration-500"><div class="max-w-5xl mx-auto flex items-center flex-wrap justify-between"><div class="sm:mr-8"><a class="flex items-center" href="/"><span class="uppercase text-xl text-slate-700 font-semibold self-center">Nagy</span></a></div><nav id="menu" class="uppercase order-last md:order-none items-center flex-grow w-full md:w-auto md:flex hidden mt-2 md:mt-0"><a href="/" class="block mt-4 md:inline-block md:mt-0 font-thin text-slate-700 text-base mr-4">Jegyzetek</a> <a href="/photos" class="block mt-4 md:inline-block md:mt-0 font-thin text-slate-700 text-base mr-4">Fotók</a> <a href="/techdraws" class="block mt-4 md:inline-block md:mt-0 font-thin text-slate-700 text-base mr-4">Műszaki Rajzok</a> <a href="/about" class="block mt-4 md:inline-block md:mt-0 font-thin text-slate-700 text-base mr-4">Rólam</a></nav><div id="social" class="[&>svg]:h-5 [&>svg]:w-5 order-last sm:order-none justify-end hidden sm:block mt-6 sm:mt-0"><ul class="flex"><li><a class="text-muted inline-flex items-center p-2.5 text-sm" aria-label="Mail" href="mailto:hello@nagy.sh"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M 2.432694,4.746721 A 1.0915742,1.0915742 0 0 0 1.3411205,5.8382946 v 0 12.3402494 a 1.0915742,1.0915742 0 0 0 1.0915735,1.091574 h 19.135288 a 1.0915742,1.0915742 0 0 0 1.091574,-1.091574 v 0 -12.35662 A 1.0915742,1.0915742 0 0 0 21.567982,4.7303505 H 2.432694 Z M 20.558281,6.8316251 12.000338,13.130009 3.4423951,6.8316251"></path></svg></a></li><li><a class="text-muted inline-flex items-center rounded-lg p-2.5 text-sm" aria-label="Instagram" href="https://instagram.com/frantisek.nagy"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z"></path><path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M16.5 7.5l0 .01"></path></svg></a></li><li><a class="text-muted inline-flex items-center rounded-lg p-2.5 text-sm" aria-label="Facebook" href="https://facebook.com/nfrantisek"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"></path></svg></a></li><li><a class="text-muted inline-flex items-center rounded-lg p-2.5 text-sm" aria-label="nintendo" href="https://lounge.nintendo.com/friendcode/6329-0332-2133/DFq9Ggy04L"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><circle cx="6.5241337" cy="7.9061351" r="1.7731422" id="circle1"/><circle cx="17.475885" cy="13.121253" r="1.7731422" id="circle2"/><path d="M 10.69622,2.32594 H 6.88918 c -2.50326,0 -4.53716,2.0339 -4.53716,4.48501 v 10.3781 c 0,2.45111 2.0339,4.48501 4.53716,4.48501 h 3.80704 z"/><path d="m 17.11083,2.32594 h -3.80704 v 19.34812 h 3.80704 c 2.50326,0 4.53715,-2.0339 4.53715,-4.48501 V 6.81095 c 0,-2.45111 -2.03389,-4.48501 -4.53715,-4.48501 z"/></svg></a></li></ul></div><div id="menu-toggle" class="flex items-center md:hidden text-slate-700 hover:text-teal-600 cursor-pointer sm:ml-6"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div></header><main class="mx-7 lg:mx-6 mt-32 flex-grow"><article class="max-w-5xl mx-auto"><header class="mb-14"><h1 class="text-3xl text-center font-bold leading-normal text-slate-900 mt-0 mb-3">Homebridge telepítése</h1><div class="text-center">Létrehozva: 2024. augusztus 1. - 14:25</div><div class="mt-3 text-center"><a href="/tags/selfhosted" class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-medium text-slate-700 m-0.5">#selfhosted</a> <a href="/tags/linux" class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-medium text-slate-700 m-0.5">#linux</a> <a href="/tags/homebridge" class="inline-block bg-slate-200 rounded-full px-3 py-1 text-sm font-medium text-slate-700 m-0.5">#homebridge</a></div><div class="mt-10 -mx-7 md:mx-0"><img class="w-full max-w-2xl mx-auto" src="/assets/img/homebridge.png" width="960" height="500" alt="This post thumbnail"></div></header><div id="content" class="prose text-slate-800 max-w-screen-md m-auto"><p>Homebridge telepítése Dockerben egy Ubuntu rendszeren viszonylag egyszerű, és a Docker használata biztosítja, hogy a Homebridge elkülönített környezetben fusson, minimalizálva az Ubuntu rendszeren bekövetkező változásokat.</p><h3>1. Előfeltételek</h3><ul><li>Friss Ubuntu rendszer.</li><li>Rendszergazdai jogosultságok a <code>sudo</code> használatához.</li><li>Telepített Docker.</li></ul><h3>2. Docker telepítése Ubuntu-ra</h3><p>Ha a Docker még nincs telepítve az Ubuntu rendszeren, kövesd az alábbi lépéseket:</p><h4>2.1 Docker telepítése</h4><ol><li><p><strong>Rendszer frissítése:</strong></p><pre><code class="language-bash">sudo apt update
sudo apt upgrade
</code></pre></li><li><p><strong>Szükséges csomagok telepítése:</strong></p><pre><code class="language-bash">sudo apt install apt-transport-https ca-certificates curl software-properties-common
</code></pre></li><li><p><strong>Docker GPG kulcs és repository hozzáadása:</strong></p><pre><code class="language-bash">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;
</code></pre></li><li><p><strong>Docker telepítése:</strong></p><pre><code class="language-bash">sudo apt update
sudo apt install docker-ce
</code></pre></li><li><p><strong>Docker indítása és automatikus indulás beállítása:</strong></p><pre><code class="language-bash">sudo systemctl start docker
sudo systemctl enable docker
</code></pre></li><li><p><strong>Ellenőrizd, hogy a Docker megfelelően telepítve lett-e:</strong></p><pre><code class="language-bash">docker --version
</code></pre></li></ol><h4>2.2 Docker Compose telepítése (opcionális, de hasznos lehet)</h4><ol><li><p><strong>Docker Compose telepítése:</strong></p><pre><code class="language-bash">sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
</code></pre></li><li><p><strong>Futtatási jog megadása:</strong></p><pre><code class="language-bash">sudo chmod +x /usr/local/bin/docker-compose
</code></pre></li><li><p><strong>Ellenőrizd, hogy a Docker Compose megfelelően telepítve lett-e:</strong></p><pre><code class="language-bash">docker-compose --version
</code></pre></li></ol><h3>3. Homebridge telepítése Docker konténerben</h3><p>Most, hogy a Docker készen áll, folytathatjuk a Homebridge telepítését.</p><h4>3.1 Homebridge Docker konténer futtatása</h4><ol><li><p><strong>Homebridge hivatalos Docker kép letöltése és futtatása:</strong> Az alábbi parancs futtatja a Homebridge-t egy Docker konténerben:</p><pre><code class="language-bash">sudo docker run -d \
  --name homebridge \
  --restart=always \
  -e TZ=Europe/Budapest \
  -p 8581:8581 \
  -v /path/to/homebridge:/homebridge \
  oznu/homebridge
</code></pre><p><strong>Parancs magyarázata:</strong></p><ul><li><code>-d</code>: háttérben futtatja a konténert (detached mód).</li><li><code>--name homebridge</code>: nevet ad a konténernek.</li><li><code>--restart=always</code>: a konténer automatikusan újraindul, ha leáll, vagy ha a gép újraindul.</li><li><code>-e TZ=Europe/Budapest</code>: beállítja az időzónát.</li><li><code>-p 8581:8581</code>: a Homebridge webszervert a 8581-es porton érheted el.</li><li><code>-v /path/to/homebridge:/homebridge</code>: a konfigurációs fájlok és kiegészítők megőrzése érdekében a <code>/path/to/homebridge</code> mappát csatolja a konténerhez. Ezt a mappát cseréld le a megfelelő útvonalra a saját rendszeredben.</li></ul></li><li><p><strong>Konfigurációs fájl ellenőrzése és testreszabása:</strong> A Homebridge Docker konténer konfigurációs fájljai a megadott mappában (pl. <code>/path/to/homebridge</code>) találhatóak, és a <code>config.json</code> fájl szerkesztésével testreszabhatod a Homebridge működését és kiegészítőit.</p></li></ol><h4>3.2 Docker Compose használata (opcionális)</h4><p>Ha szereted a Docker Compose-t használni a konténerek menedzselésére, létrehozhatsz egy <code>docker-compose.yml</code> fájlt a Homebridge-hez.</p><ol><li><p><strong>Létrehozás és szerkesztés:</strong> Hozz létre egy új mappát, és hozz létre egy <code>docker-compose.yml</code> fájlt a következő tartalommal:</p><pre><code class="language-yaml">version: '2'
services:
  homebridge:
    image: oznu/homebridge
    container_name: homebridge
    restart: always
    environment:
      - TZ=Europe/Budapest
    ports:
      - 8581:8581
    volumes:
      - ./homebridge:/homebridge
</code></pre></li><li><p><strong>Homebridge indítása Docker Compose segítségével:</strong> A következő parancs segítségével indíthatod a konténert:</p><pre><code class="language-bash">sudo docker-compose up -d
</code></pre></li></ol><h3>4. Homebridge elérése és konfigurálása</h3><ol><li><p>Miután a Homebridge Docker konténer fut, a webes felületet elérheted böngészőből az alábbi URL-en:</p><pre><code>http://&lt;your-server-ip&gt;:8581
</code></pre><p>Például:</p><pre><code>http://localhost:8581
</code></pre></li><li><p>A Homebridge UI használatával telepíthetsz kiegészítőket és konfigurálhatod az okos eszközeidet. Az alapértelmezett bejelentkezési adatok:</p><ul><li>Felhasználónév: <code>admin</code></li><li>Jelszó: <code>admin</code></li></ul></li><li><p><strong>HomeKit integráció</strong>: A Homebridge-t mostantól hozzáadhatod az Apple HomeKit rendszeréhez. A Homebridge webes felületén egy QR-kódot látsz, amelyet a Home alkalmazásban beolvashatsz.</p></li></ol><h3>5. Homebridge frissítése</h3><p>A Homebridge frissítése egyszerű, mivel Docker konténert használsz. Csak állítsd le a futó Homebridge konténert, távolítsd el a régi képet, és húzd le a legújabbat:</p><pre><code class="language-bash">sudo docker stop homebridge
sudo docker rm homebridge
sudo docker pull oznu/homebridge
</code></pre><p>Ezután futtasd újra a konténert az eredeti paranccsal vagy Docker Compose használatával.</p></div></article></main><footer class="mt-20 px-10 py-8"><div class="max-w-5xl mx-auto text-zinc-400 text-center uppercase italic font-thin">"What doesn't kill you makes you smaller" (Super Mario)</div></footer><script src="/assets/js/bundle.js"></script></body></html>